<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PANGU ¬∑ Sistema Completo de Produtividade</title>
    <style>
        :root {
            --bg-primary: #0f0f23;
            --bg-secondary: #1a1a2e;
            --bg-tertiary: #16213e;
            --glass-light: rgba(255, 255, 255, 0.1);
            --glass-medium: rgba(255, 255, 255, 0.07);
            --glass-dark: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.15);
            --text-primary: #f0f0f5;
            --text-secondary: #a0a0c0;
            --brand: #a78bfa;
            --brand-glow: rgba(167, 139, 250, 0.3);
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --accent: #60a5fa;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            --shadow-glow: 0 0 20px var(--brand-glow);
            --radius-xl: 80px;
            --radius-lg: 50px;
            --radius-md: 30px;
            --radius-sm: 20px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background: 
                radial-gradient(ellipse at 10% 10%, var(--bg-secondary) 0%, transparent 50%),
                radial-gradient(ellipse at 90% 90%, var(--bg-tertiary) 0%, transparent 50%),
                linear-gradient(135deg, var(--bg-primary), var(--bg-secondary));
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
            padding: 20px;
        }

	.brand-logo {
    height: 80px;
    width: auto;
    filter: brightness(0) invert(1);
    margin-bottom: 20px;
	}

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .page-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px 0;
        }

        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--brand), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .section-divider {
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--brand), transparent);
            margin: 60px 0;
            border: none;
        }

        .section-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--brand);
        }

        .section-description {
            color: var(--text-secondary);
            max-width: 500px;
            margin: 0 auto;
        }

        /* Cards e Layouts Gerais */
        .card {
            background: linear-gradient(135deg, var(--glass-light), var(--glass-medium));
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-xl);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            box-shadow: var(--shadow);
            padding: 30px;
            transition: transform 0.3s, box-shadow 0.3s;
            margin-bottom: 20px;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow), var(--shadow-glow);
        }

        .card-header {
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 700;
            color: var(--brand);
            margin-bottom: 18px;
            font-size: 14px;
            text-align: center;
        }

        /* Timer Section Styles */
        .timer-grid {
            display: grid;
            grid-template-columns: 1.1fr 1.2fr 1fr;
            gap: 28px;
        }

        @media (max-width: 1080px) {
            .timer-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        .timer-display {
            font-weight: 700;
            text-align: center;
            font-size: 72px;
            letter-spacing: 3px;
            margin: 10px 0 20px;
            font-variant-numeric: tabular-nums;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }

        .timer-display-danger {
            color: var(--danger);
            text-shadow: 0 0 10px rgba(239, 68, 68, 0.3);
        }

        .timer-display-break {
            color: var(--accent);
            text-shadow: 0 0 10px rgba(96, 165, 250, 0.3);
        }

        .status-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--accent);
            box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.3);
        }

        .status-dot-running {
            background: var(--success);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.3);
            animation: pulse 1.5s infinite;
        }

        .status-dot-paused {
            background: var(--warning);
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.3);
        }

        .status-dot-break {
            background: var(--accent);
            box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.3);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .big-cta {
            display: block;
            text-align: center;
            padding: 20px;
            border-radius: var(--radius-lg);
            margin: 15px auto 20px;
            border: 1px dashed var(--glass-border);
            width: min(540px, 90%);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03));
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 700;
            font-size: 18px;
            letter-spacing: 1px;
            overflow: hidden;
            position: relative;
        }

        .big-cta:hover {
            border-color: var(--brand);
            background: linear-gradient(135deg, rgba(167, 139, 250, 0.1), rgba(167, 139, 250, 0.05));
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .big-cta.expanded {
            height: auto;
            min-height: 200px;
            padding: 30px;
            transition: all 0.5s ease;
        }

        .cta-text {
            transition: opacity 0.3s ease;
        }

        .cta-text.fade-out {
            opacity: 0;
        }

        .task-details {
            opacity: 0;
            max-height: 0;
            overflow: hidden;
            transition: opacity 0.5s ease, max-height 0.5s ease;
        }

        .task-details.show {
            opacity: 1;
            max-height: 500px;
        }

        .task-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--brand);
            text-align: center;
        }

        .task-section {
            margin-bottom: 16px;
        }

        .task-section-title {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .task-section-content {
            font-weight: 400;
            font-size: 15px;
            line-height: 1.5;
            color: var(--text-secondary);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
        }

        .pill {
            border-radius: var(--radius-xl);
            padding: 12px 18px;
            border: 1px solid var(--glass-border);
            background: rgba(255, 255, 255, 0.08);
            font-size: 14px;
            font-weight: 600;
        }

        /* Tic-tac Indicator */
        .tick-tac-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 10px;
            color: var(--warning);
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .tick-tac-indicator.active {
            opacity: 1;
        }

        .tick-tac-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--warning);
            animation: tickTac 1s infinite alternate;
        }

        @keyframes tickTac {
            0% { opacity: 0.3; }
            100% { opacity: 1; }
        }

        /* Task Items with Drag & Drop */
        .task-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: var(--radius-lg);
            padding: 16px;
            margin-bottom: 12px;
            transition: all 0.3s;
            cursor: grab;
        }

        .task-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-2px);
        }

        .task-item-active {
            border-left: 4px solid var(--brand);
            background: rgba(167, 139, 250, 0.1);
        }

        .task-item.dragging {
            opacity: 0.7;
            transform: rotate(5deg);
            cursor: grabbing;
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .task-name {
            font-weight: 600;
            font-size: 16px;
            flex: 1;
        }

        .task-duration {
            color: var(--text-secondary);
            font-size: 14px;
            background: rgba(255, 255, 255, 0.1);
            padding: 4px 8px;
            border-radius: var(--radius-xl);
            margin-right: 8px;
        }

        .task-goal {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .task-actions {
            display: flex;
            gap: 8px;
            margin-top: 10px;
            align-items: center;
        }

        .task-btn {
            padding: 6px 12px;
            border-radius: var(--radius-xl);
            font-size: 12px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.2s;
        }

        .task-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .task-btn-delete {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger);
        }

        .task-btn-delete:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .task-expand-btn {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all 0.2s;
            margin-left: 8px;
        }

        .task-expand-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .task-expanded-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            margin-top: 10px;
        }

        .task-expanded-content.show {
            max-height: 500px;
        }

        .task-expanded-section {
            margin-bottom: 12px;
        }

        .task-expanded-title {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 4px;
            color: var(--text-primary);
        }

        .task-expanded-content-text {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.4;
            white-space: pre-line;
        }

        /* Agenda Section Styles */
        .week-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 1200px) {
            .week-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .week-grid {
                grid-template-columns: 1fr;
            }
        }

        .day-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03));
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            padding: 20px;
            transition: all 0.3s;
        }

        .day-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            border-color: var(--brand);
        }

        .day-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--brand);
            margin-bottom: 15px;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Notes Section Styles */
        .notes-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        @media (min-width: 768px) {
            .notes-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .notes-grid.single-column {
                grid-template-columns: 1fr;
                max-width: 800px;
                margin: 0 auto;
            }
        }

        .new-note-card {
            transition: all 0.5s ease;
        }

        .new-note-card.hidden {
            display: none;
        }

        .notes-count {
            background: var(--brand);
            color: var(--bg-primary);
            padding: 4px 12px;
            border-radius: var(--radius-xl);
            font-size: 12px;
            font-weight: 700;
        }

        .add-note-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 1px solid var(--brand);
            background: linear-gradient(135deg, rgba(167, 139, 250, 0.3), rgba(167, 139, 250, 0.15));
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .add-note-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px var(--brand-glow);
        }

        .search-container {
            margin-bottom: 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .search-container.expanded {
            max-height: 100px;
        }

        .notes-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .notes-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .note-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: var(--radius-lg);
            padding: 20px;
            margin-bottom: 16px;
            transition: all 0.3s;
        }

        .note-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-2px);
        }

        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .note-title {
            font-weight: 600;
            font-size: 18px;
            flex: 1;
            margin-right: 16px;
            color: var(--text-primary);
        }

        .note-date {
            color: var(--text-secondary);
            font-size: 12px;
            white-space: nowrap;
        }

        .note-content {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 16px;
            white-space: pre-line;
        }

        .note-actions {
            display: flex;
            gap: 8px;
            align-items: center;
            justify-content: flex-end;
        }

        .note-btn {
            padding: 6px 12px;
            border-radius: var(--radius-xl);
            font-size: 12px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 600;
        }

        .note-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .note-btn-delete {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger);
        }

        .note-btn-delete:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        /* Hobbies Section Styles */
        .hobbies-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 28px;
        }

        @media (min-width: 1080px) {
            .hobbies-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .hobbies-grid.single-column {
                grid-template-columns: 1fr;
                max-width: 800px;
                margin: 0 auto;
            }
        }

        .minimize-btn {
            position: absolute;
            right: 20px;
            top: 20px;
            transform: none;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            font-weight: bold;
            color: var(--text-primary);
        }

        .minimize-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
            border-color: var(--brand);
        }

        .expand-btn {
            position: absolute;
            right: 0;
            top: 0;
            background: rgba(167, 139, 250, 0.2);
            border: 1px solid var(--brand);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: none;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 20px;
            font-weight: bold;
            color: var(--brand);
            z-index: 10;
        }

        .expand-btn:hover {
            background: rgba(167, 139, 250, 0.4);
            transform: scale(1.1);
            box-shadow: 0 0 15px var(--brand-glow);
        }

        .toolbar {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .search {
            flex: 1 1 260px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border: 1px solid var(--glass-border);
            padding: 14px 16px;
            border-radius: var(--radius-md);
            color: var(--text-primary);
            outline: none;
            transition: all 0.3s;
            font-size: 15px;
            backdrop-filter: blur(10px);
        }

        .search:focus {
            border-color: var(--brand);
            box-shadow: 0 0 0 3px var(--brand-glow);
            transform: scale(1.02);
        }

        .hobby-item {
            display: flex;
            gap: 8px;
            align-items: flex-start;
            padding: 10px;
            border-radius: var(--radius-sm);
            line-height: 1.2;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            color: var(--text-primary);
            text-decoration: none;
            user-select: none;
        }

        .hobby-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-3px);
            border-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .hobby-item.added {
            background: rgba(167, 139, 250, 0.15);
            border-color: var(--brand);
            color: var(--brand);
        }

        .hobby-item.added::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            font-weight: bold;
            color: var(--brand);
        }

        .activity {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: var(--radius-md);
            padding: 14px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
            position: relative;
        }

        .activity:hover {
            border-color: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }

        .activity-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .activity-name {
            font-weight: 600;
            font-size: 16px;
        }

        .activity-controls {
            display: flex;
            gap: 8px;
        }

        .activity button {
            border: none;
            background: rgba(167, 139, 250, 0.2);
            color: var(--brand);
            font-weight: bold;
            padding: 6px 12px;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all 0.3s;
        }

        .activity button:hover {
            background: rgba(167, 139, 250, 0.4);
            transform: scale(1.05);
        }

        .activity button.delete {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger);
        }

        .activity button.delete:hover {
            background: rgba(239, 68, 68, 0.4);
        }

        .activity button.uncheck {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }

        .activity button.uncheck:hover {
            background: rgba(245, 158, 11, 0.4);
        }

        .bar-container {
            width: 100%;
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-sm);
            overflow: hidden;
            margin-bottom: 8px;
        }

        .bar {
            height: 100%;
            background: linear-gradient(90deg, var(--brand), var(--accent));
            width: 0%;
            transition: width 0.5s;
            border-radius: var(--radius-sm);
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .goal-input {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-sm);
            padding: 4px 8px;
            color: var(--text-primary);
            font-size: 12px;
            width: 60px;
            margin-left: 8px;
        }

        .progress-chart {
            margin-top: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--radius-md);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chart-container {
            display: flex;
            align-items: end;
            gap: 8px;
            height: 120px;
            margin-top: 10px;
        }

        .chart-bar {
            flex: 1;
            background: linear-gradient(to top, var(--brand), var(--accent));
            border-radius: 4px 4px 0 0;
            min-height: 4px;
            transition: all 0.3s ease;
            position: relative;
        }

        .chart-bar:hover {
            opacity: 0.8;
            transform: scaleY(1.1);
        }

        .chart-label {
            font-size: 10px;
            text-align: center;
            margin-top: 5px;
            color: var(--text-secondary);
        }

        .selection-hidden {
            display: none !important;
        }

        .fade-out {
            animation: fadeOut 0.4s ease-out forwards;
        }

        .fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }

        @keyframes fadeOut {
            from { opacity: 1; transform: translateX(0); }
            to { opacity: 0; transform: translateX(-50px); display: none; }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes checkmark {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }

        .check-animation {
            animation: checkmark 0.5s;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 16px;
        }

        .label {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
            display: block;
        }

        .input, .textarea, .select {
            width: 100%;
            border-radius: var(--radius-md);
            border: 1px solid var(--glass-border);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03));
            color: var(--text-primary);
            padding: 14px 16px;
            outline: none;
            transition: all 0.3s;
            font-size: 15px;
        }

        .input:focus, .textarea:focus, .select:focus {
            border-color: var(--brand);
            box-shadow: 0 0 0 3px var(--brand-glow);
        }

        .textarea {
            min-height: 100px;
            resize: vertical;
        }

        .btn {
            appearance: none;
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-xl);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.04));
            color: var(--text-primary);
            padding: 14px 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 14px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .btn-primary {
            border-color: var(--brand);
            background: linear-gradient(135deg, rgba(167, 139, 250, 0.3), rgba(167, 139, 250, 0.15));
            color: white;
        }

        .btn-primary:hover {
            box-shadow: 0 8px 20px rgba(167, 139, 250, 0.3);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 12px;
        }

        .form-actions {
            display: flex;
            gap: 12px;
            margin-top: 10px;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-secondary);
            border-radius: var(--radius-lg);
            background: rgba(255, 255, 255, 0.05);
        }

        .hint {
            font-size: 13px;
            color: var(--text-secondary);
            margin-top: 10px;
            text-align: center;
        }

        .current-task {
            text-align: center;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .progress-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-xl);
            margin: 10px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--brand), var(--accent));
            border-radius: var(--radius-xl);
            transition: width 0.3s;
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            right: 20px;
            bottom: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 50;
        }

        .toast {
            background: rgba(20, 22, 42, 0.9);
            color: #f7f2ff;
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 14px 18px;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            min-width: 240px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Accordion Styles */
        details {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: var(--radius-md);
            overflow: hidden;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }

        details:hover {
            border-color: rgba(255, 255, 255, 0.25);
        }

        summary {
            list-style: none;
            cursor: pointer;
            padding: 16px 18px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }

        summary:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        summary::-webkit-details-marker {
            display: none;
        }

        .caret {
            width: 10px;
            height: 10px;
            border-right: 2px solid var(--text-primary);
            border-bottom: 2px solid var(--text-primary);
            transform: rotate(-45deg);
            transition: 0.3s;
        }

        details[open] .caret {
            transform: rotate(45deg);
        }

        .panel {
            padding: 12px 16px 16px;
            display: grid;
            gap: 8px;
            background: rgba(0, 0, 0, 0.2);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hobbies-selection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 8px;
        }

        @media (max-width: 768px) {
            .minimize-btn {
                position: absolute;
                right: 15px;
                top: 15px
                margin-top: 0px;
                align-self: auto;
            }
            
            .expand-btn {
                width: 35px;
                height: 35px;
                font-size: 18px;
            }
            
            .toolbar {
                flex-direction: column;
            }
            
            .search {
                flex: 1 1 auto;
            }
            
            .hobbies-selection-grid {
                grid-template-columns: 1fr;
            }
            
            .notes-header {
                flex-direction: column;
                gap: 12px;
                align-items: stretch;
            }
            
            .notes-actions {
                justify-content: space-between;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Cabe√ßalho da P√°gina -->
        <header class="page-header">
            <svg class="brand-logo" viewBox="0 0 793.15 264.59">
		<svg class="brand-logo" viewBox="0 0 793.15 264.59">
    <defs>
        <style>
            .cls-1 {
                fill: #feefe3;
            }
        </style>
    </defs>
    <g>
        <g>
            <path class="cls-1" d="M390.45,77.45v68.08h-59.29l-.07,41.61h-29.89l.07-109.69h89.18ZM360.59,103.76h-29.4l-.07,15.46h29.4l.07-15.46Z"/>
            <path class="cls-1" d="M490.73,77.45l.1,109.69h-30.05l.07-41.61h-29.4l-.07,41.61h-29.89l.07-109.69h89.18ZM460.88,103.76h-29.4l-.07,15.46h29.4l.07-15.46Z"/>
            <path class="cls-1" d="M591.5,77.45l.1,109.69h-30.05l.1-83.37h-29.4l-.1,83.37h-29.89l.07-109.69h89.18Z"/>
            <path class="cls-1" d="M692.28,77.45l.03,26.31h-59.29l.03,57.06h29.4l-.06-15.29h-15.84l.13-26.31h45.73l-.03,67.92h-89.34l.07-109.69h89.18Z"/>
            <path class="cls-1" d="M793.05,77.45l.1,109.69h-89.34l.07-109.69h29.89l.06,83.37h29.4l-.06-83.37h29.89Z"/>
        </g>
        <g>
            <path class="cls-1" d="M224.63,185.43c-1.96-5.31-5.15-10.52-8.47-15.11-2.78-3.84-6.87-8.88-10.46-11.92-.31-.26-2.19-1.81-2.41-1.54l-1.04,5.16-.95-2.66-.77-.44c-2.09,13.7-8.65,26.43-17.21,37.17,13.01-5.81,26.55-12.63,41.3-10.67Z"/>
            <path class="cls-1" d="M183.31,67.87c1.26-13.5.71-31.09-12.49-38.76-15.96-9.28-25.17,9.72-41.27,6.85-12.38-2.21-19.99-14.75-33.76-7.07-8.11,4.53-12.33,14.17-12.97,23.17-1.23,17.28.92,35.94-.02,53.36.79,6.34,2.87,12.63,6.62,17.82,1.22,1.69,2.81,2.99,3.73,4.71l3.38-6.43c-.62-1.22-1.75-2.1-2.32-3.42-1.66-3.84-.83-10.47,3.53-12.09l.94.49c.91,1.44-.36,4.35-.28,6.05.02.48.67,4.04,1.63,3.36,2.82-5.2,7.62-10.19,13.43-11.87l.34-.34c-4.74-5.71.41-14.19,6.85-15.7.21-5.25,2.32-13.89-5.47-13.56,2.21,2.65.83,6.5-2.22,7.76-5.96,2.45-11.01-4.35-6.73-9.3-4.69-.6-11.19-3.21-12.39-8.26,3.82.77,7.31,2.64,11.07,3.55,6.46,1.56,16.93.48,20.31,7.23,1.23,2.46,1.4,11.98.95,14.84-.37,2.37-4.26,2.69-5.95,3.69-3.58,2.1-3.24,7.56,1.65,6.82.73-.11,1.27-.72,2.06-.67.78.05,2.28,1.02,3.22,1.28,3.55.97,7.15,1.12,10.76.28,1.2-.28,3.43-1.49,4.31-1.55.84-.05,1.6.57,2.42.66,4.46.5,4.99-3.94,1.87-6.36-1.69-1.31-5.93-1.79-6.47-4.2-.41-1.82-.26-9.16-.03-11.24,1.16-10.75,13.85-8.87,21.58-10.77,3.72-.92,7.27-2.83,11.07-3.55-1.86,4.91-7.73,7.83-12.73,8.26.04,1,1.07,1.28,1.3,2.31.63,2.81-.35,5.9-3.13,7.05-5.14,2.14-10.03-2.9-7.47-7.99-7.84.45-4.5,8.42-5.12,13.73,6.41,1.55,11.79,10.23,6.84,15.87,6.34,1.7,10.5,7.08,14.28,12.04,2.62-2.27.02-7.18,1.03-9.28,1.46-3.02,4.44,2.99,4.82,4.47.9,3.52.13,7.9-2.92,10l3.26,6.86c6.16-6.37,10.22-14.24,10.84-23.23.82-11.9-1.17-24.81-.36-36.84ZM121.97,66.6c-5.47-.87-9.41-7.23-14.62-9.13-1.65-.6-4.43-1.04-6.17-1.09-1.71-.04-3.37.74-5.3.16-1.06-.32-8.58-6.96-8.25-7.41,6.12-1.01,13.54-1.27,19.62.16,5.36,1.26,14.34,7.75,18.25,11.7,3.23,3.26.82,6.3-3.54,5.6ZM170.61,56.55c-2.03.6-3.83-.23-5.69-.22-1.37,0-3.96.5-5.32.91-5.6,1.66-12.17,11.17-18.28,9.29-1.65-.51-2.38-2.53-1.62-4.07.74-1.49,9.31-8.22,11.17-9.48,8.13-5.5,18.63-5.18,27.99-3.85.33.45-7.31,7.13-8.24,7.41Z"/>
            <path class="cls-1" d="M134.98,113.14c-14.87-.98-22.99,11.76-29.79,22.9,5.41,3.22,12.45,3.79,17.87.32,2.78-1.78,4.5-4.87,7.87-5.9,5.95-1.82,8.03,3.27,12.15,5.9,5.85,3.74,12.22,2.62,18.21-.15-5.67-9.83-13.79-22.25-26.32-23.07ZM145.13,124.69c-1.49,1.11-3.12.18-4.64.15-4.8-.1-9.68-.08-14.49,0-1.65.03-3.31.9-4.89-.07-1.23-2.25.71-3.97,2.56-5.01,4.59-2.59,13.15-2.64,17.9-.48,1.99.91,4.94,2.93,3.56,5.41Z"/>
            <path class="cls-1" d="M192.31,85.13c2.99-5.81,5.36-16.9.19-22.1-.22-.23-1.73-1.39-1.94-1.15-.04,7.95-.25,15.89,1.03,23.75.9.16.53-.13.72-.49Z"/>
            <path class="cls-1" d="M74.39,62.56c-6,4.44-3.59,17.5,0,23.05,1.62-7.78,1.6-15.82,1.55-23.74-.64-.09-1.08.35-1.54.69Z"/>
            <path class="cls-1" d="M132.3,0C59.35,0,0,59.35,0,132.3s59.35,132.3,132.3,132.3,132.3-59.35,132.3-132.3S205.24,0,132.3,0ZM218.93,217.74c-8-7.34-18.43-12.88-28.99-14.65-6.77-1.14-15.75-.92-22.57-.06-1.25.16-10.14,2-10.19,2.88l24.72,37.56c-.59.26-1.18.52-1.78.78-.58-.4-1.05-.73-1.25-.83-15.53-8.14-21.62.08-35.63,3.98-21.03,5.85-31.83-8.72-50.94-7.92-4.15.17-8.73,1.16-12.66,2.49l-.09.04c-1.48-.71-2.93-1.46-4.38-2.23.09-.12.18-.23.25-.31,8.39-9.05,21.75-20.55,33.1-25.42,1.57-.67,7.18-2.8,8.56-2.80h38.72c-10.84-19.38-31.3-27.54-52.94-22.83-20.06,4.37-39.42,17.95-54.42,32.05-23.32-22.19-37.88-53.51-37.88-88.17,0-67.13,54.62-121.75,121.75-121.75,21.75,0,42.18,5.74,59.86,15.77,2.18,3.57,4.02,7.32,5.18,11.38,2.81,9.82,1.88,20.39,3.24,30.49,1.79,13.24,7.43,24.38,15.31,34.95,1.05,1.41,5.23,5.85,5.64,6.75.07.15.09.56-.17.51-3.51-2.07-7.4-3.75-11.2-5.32-3.93-1.62-10-4.34-13.94-5.34-.19-.05-.56-.1-.51.16l3.41,9.24c18.11,6.55,34.55,17.14,47.36,31.55l6.37,8.5c-.53,3.77-1.22,7.49-2.09,11.15-10.97-18.73-28.71-32.98-48.86-40.99l2.07,8.08c18.59,10.12,34.35,26.43,42.94,45.88-1.3,3.62-2.76,7.15-4.39,10.61-6.85-18.95-20.04-35.5-37.01-46.33-.91-.38-.16,1.37-.15,1.87.08,2.63-.41,5.2-.19,7.76,15.05,11.85,26.72,28.85,31.58,47.51-.33.55-.67,1.11-1.01,1.65-9.32-4.1-19.4-3.57-29.17-.94-1.47.4-3.9,1.06-5.22,1.66-.41.18-.62-.16-.49.72,9.03,2.35,17.65,6.5,25.24,11.97-2.28,2.75-4.68,5.4-7.19,7.94Z"/>
        </g>
    </g>
</svg>
            <p class="page-subtitle"></p>
        </header>

        <!-- Se√ß√£o 1: Timer de Tarefas -->
        <section id="timer-section">
            <div class="section-header">
                <h2 class="section-title"></h2>
                <p class="section-description"></p>
            </div>

            <div class="timer-grid">
                <!-- Coluna Esquerda - Formul√°rio -->
                <div class="card">
                    <div class="card-header">Adicionar nova tarefa</div>
                    <div class="form-group">
                        <label class="label">nome da tarefa</label>
                        <input id="taskName" class="input" placeholder="Ex.: An√°lise do briefing">
                    </div>
                    <div class="form-group">
                        <label class="label">dura√ß√£o (minutos)</label>
                        <input id="taskDuration" class="input" type="number" min="1" step="1" placeholder="Ex.: 60">
                    </div>
                    <div class="form-group">
                        <label class="label">objetivo</label>
                        <textarea id="taskGoal" class="textarea" placeholder="Descreva o objetivo desta tarefa..."></textarea>
                    </div>
                    <div class="form-group">
                        <label class="label">atividades</label>
                        <textarea id="taskSteps" class="textarea" placeholder="Liste as atividades a serem realizadas..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button id="addTask" class="btn btn-primary">adicionar tarefa</button>
                        <button id="clearAll" class="btn">limpar tudo</button>
                    </div>
                    <div class="hint">As tarefas s√£o salvas automaticamente no navegador.</div>
                </div>

                <!-- Coluna Central - Timer -->
                <div class="card">
                    <div class="card-header">Cronograma de trabalho</div>
                    <div class="status-indicator">
                        <span id="statusDot" class="status-dot"></span>
                        <div id="statusText">pronto</div>
                    </div>
                    <div id="timerDisplay" class="timer-display">00:00:00</div>
                    <div id="currentTask" class="current-task"></div>
                    
                    <!-- Indicador de tic-tac -->
                    <div id="tickTacIndicator" class="tick-tac-indicator">
                        <div class="tick-tac-dot"></div>
                        <span>Tic-tac ativo (√∫ltimos 10 segundos)</span>
                    </div>
                    
                    <!-- Elemento CTA que se expande -->
                    <div id="tapToStart" class="big-cta">
                        <div id="ctaText" class="cta-text">CLIQUE PARA COME√áAR</div>
                        <div id="taskDetails" class="task-details">
                            <div id="taskTitle" class="task-title"></div>
                            <div class="task-section">
                                <div class="task-section-title">Objetivo:</div>
                                <div id="taskGoalDetail" class="task-section-content"></div>
                            </div>
                            <div class="task-section">
                                <div class="task-section-title">Atividades:</div>
                                <div id="taskStepsDetail" class="task-section-content"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="controls">
                        <button class="btn pill" id="btnStart">iniciar timer</button>
                        <button class="btn pill" id="btnPause">pausar</button>
                        <button class="btn pill" id="btnReset">reiniciar</button>
                        <button class="btn pill" id="btnNext">pr√≥xima tarefa</button>
                        <button class="btn pill" id="btnBreak">intervalo: <span id="breakState">on</span></button>
                        <button class="btn pill" id="btnSound">sons: <span id="soundState">ativados</span></button>
                    </div>
                    <div class="progress-bar">
                        <div id="progress" class="progress" style="width: 0%"></div>
                    </div>
                </div>

                <!-- Coluna Direita - Lista de Tarefas -->
                <div class="card">
                    <div class="card-header">Lista de tarefas</div>
                    <div id="tasksList"></div>
                    <div id="emptyStateTimer" class="empty-state">
                        <div>Sem tarefas no momento.</div>
                        <div style="font-size:14px; margin-top:8px;">Adicione uma tarefa para come√ßar</div>
                    </div>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Se√ß√£o 2: Agenda Semanal -->
        <section id="agenda-section">
            <div class="section-header">
                <h2 class="section-title"></h2>
                <p class="section-description"></p>
            </div>

            <div class="card">
                <div class="week-grid">
                    <div class="day-card">
                        <div class="day-title">Segunda</div>
                        <textarea id="monday" class="textarea" placeholder="Tarefas para segunda-feira..."></textarea>
                    </div>
                    <div class="day-card">
                        <div class="day-title">Ter√ßa</div>
                        <textarea id="tuesday" class="textarea" placeholder="Tarefas para ter√ßa-feira..."></textarea>
                    </div>
                    <div class="day-card">
                        <div class="day-title">Quarta</div>
                        <textarea id="wednesday" class="textarea" placeholder="Tarefas para quarta-feira..."></textarea>
                    </div>
                    <div class="day-card">
                        <div class="day-title">Quinta</div>
                        <textarea id="thursday" class="textarea" placeholder="Tarefas para quinta-feira..."></textarea>
                    </div>
                    <div class="day-card">
                        <div class="day-title">Sexta</div>
                        <textarea id="friday" class="textarea" placeholder="Tarefas para sexta-feira..."></textarea>
                    </div>
                </div>

                <div class="hint">Todas as altera√ß√µes s√£o salvas automaticamente no navegador.</div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Se√ß√£o 3: Bloco de Notas -->
        <section id="notes-section">
            <div class="section-header">
                <h2 class="section-title"></h2>
                <p class="section-description"></p>
            </div>

            <div class="notes-grid single-column" id="notesGrid">
                <!-- Card de Criar Nova Nota -->
                <div class="card new-note-card hidden" id="newNoteCard">
                    <div class="card-header">Nova Nota</div>
                    <div class="form-group">
                        <label class="label">T√≠tulo</label>
                        <input type="text" id="noteTitle" class="input" placeholder="Digite o t√≠tulo da sua nota...">
                    </div>
                    <div class="form-group">
                        <label class="label">Conte√∫do</label>
                        <textarea id="noteContent" class="textarea" placeholder="Escreva seu conte√∫do aqui..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button id="saveNote" class="btn btn-primary">Salvar Nota</button>
                        <button id="clearForm" class="btn">Limpar</button>
                    </div>
                </div>

                <!-- Card de Lista de Notas -->
                <div class="card">
                    <div class="card-header">
                        Suas Notas
                        <div class="notes-count" id="notesCount">(0)</div>
                    </div>
                    
                    <div class="notes-header">
                        <div class="notes-actions">
                            <button id="toggleNoteCard" class="add-note-btn" title="Nova nota">+</button>
                        </div>
                        <div class="notes-actions">
                            <button id="toggleSearch" class="btn btn-small">Buscar</button>
                        </div>
                    </div>

                    <div class="search-container" id="searchContainer">
                        <input type="text" id="searchNotes" class="input" placeholder="Digite para buscar nas notas...">
                    </div>

                    <div id="notesList"></div>
                    <div id="emptyStateNotes" class="empty-state">
                        <div>Nenhuma nota encontrada</div>
                        <div style="font-size:14px; margin-top:8px;">Crie sua primeira nota</div>
                    </div>
                </div>
            </div>
        </section>

        <hr class="section-divider">

        <!-- Se√ß√£o 4: Gerenciador de Hobbies -->
        <section id="hobbies-section">
            <div class="section-header">
                <h2 class="section-title"></h2>
                <p class="section-description"></p>
            </div>

            <div class="hobbies-grid" id="mainHobbiesGrid">
                <!-- Coluna Esquerda - Sele√ß√£o de Hobbies -->
                <div class="card" id="selectionCard">
                    <div class="card-header">
                        Sele√ß√£o de Hobbies
                        <button id="toggleSelection" class="minimize-btn" title="Minimizar sele√ß√£o">‚ûñ</button>
                    </div>
                    <div id="selectionSection">
                        <div class="toolbar">
                            <input id="searchHobbies" class="search" type="search" placeholder="Pesquisar hobby..." />
                        </div>

                        <div id="hobbiesAccordion">
                            <!-- üé® Artes e Express√£o Criativa -->
                            <details open>
                                <summary><span class="caret"></span> üé® Artes e Express√£o Criativa</summary>
                                <div class="panel">
                                    <div class="hobbies-selection-grid">
                                        <div class="hobby-item" data-value="Desenho">Desenho</div>
                                        <div class="hobby-item" data-value="Pintura (aquarela, √≥leo, acr√≠lica, guache, digital)">Pintura (aquarela, √≥leo, acr√≠lica, guache, digital)</div>
                                        <div class="hobby-item" data-value="Escultura (argila, madeira, metal, resina, cer√¢mica)">Escultura (argila, madeira, metal, resina, cer√¢mica)</div>
                                        <div class="hobby-item" data-value="Xilogravura">Xilogravura</div>
                                        <div class="hobby-item" data-value="Colagem art√≠stica">Colagem art√≠stica</div>
                                        <div class="hobby-item" data-value="Fotografia">Fotografia</div>
                                        <div class="hobby-item" data-value="Fotografia anal√≥gica">Fotografia anal√≥gica</div>
                                        <div class="hobby-item" data-value="Edi√ß√£o de imagem">Edi√ß√£o de imagem</div>
                                        <div class="hobby-item" data-value="Design gr√°fico">Design gr√°fico</div>
                                        <div class="hobby-item" data-value="Ilustra√ß√£o digital">Ilustra√ß√£o digital</div>
                                        <div class="hobby-item" data-value="Lettering / caligrafia">Lettering / caligrafia</div>
                                        <div class="hobby-item" data-value="Pintura em tela ou parede (murais)">Pintura em tela ou parede (murais)</div>
                                        <div class="hobby-item" data-value="Quadrinhos e HQs">Quadrinhos e HQs</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de personagens">Cria√ß√£o de personagens</div>
                                        <div class="hobby-item" data-value="Design de moda">Design de moda</div>
                                        <div class="hobby-item" data-value="Customiza√ß√£o de roupas e t√™nis">Customiza√ß√£o de roupas e t√™nis</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de bijuterias e acess√≥rios">Cria√ß√£o de bijuterias e acess√≥rios</div>
                                        <div class="hobby-item" data-value="Marcenaria art√≠stica">Marcenaria art√≠stica</div>
                                        <div class="hobby-item" data-value="Tape√ßaria / bordado / croch√™ / tric√¥">Tape√ßaria / bordado / croch√™ / tric√¥</div>
                                        <div class="hobby-item" data-value="Costura e upcycling de roupas">Costura e upcycling de roupas</div>
                                        <div class="hobby-item" data-value="Cer√¢mica e torno">Cer√¢mica e torno</div>
                                        <div class="hobby-item" data-value="Origami e dobraduras">Origami e dobraduras</div>
                                        <div class="hobby-item" data-value="Arte com papel mach√™">Arte com papel mach√™</div>
                                        <div class="hobby-item" data-value="Pintura em miniaturas">Pintura em miniaturas</div>
                                        <div class="hobby-item" data-value="Produ√ß√£o de zines e fanzines">Produ√ß√£o de zines e fanzines</div>
                                        <div class="hobby-item" data-value="Caricatura">Caricatura</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de brinquedos artesanais">Cria√ß√£o de brinquedos artesanais</div>
                                    </div>
                                </div>
                            </details>

                            <!-- üéµ M√∫sica e Som -->
                            <details>
                                <summary><span class="caret"></span> üéµ M√∫sica e Som</summary>
                                <div class="panel">
                                    <div class="hobbies-selection-grid">
                                        <div class="hobby-item" data-value="Tocar viol√£o">Tocar viol√£o</div>
                                        <div class="hobby-item" data-value="Tocar guitarra">Tocar guitarra</div>
                                        <div class="hobby-item" data-value="Tocar baixo">Tocar baixo</div>
                                        <div class="hobby-item" data-value="Tocar piano / teclado">Tocar piano / teclado</div>
                                        <div class="hobby-item" data-value="Tocar ukulele">Tocar ukulele</div>
                                        <div class="hobby-item" data-value="Tocar bateria / percuss√£o">Tocar bateria / percuss√£o</div>
                                        <div class="hobby-item" data-value="Produ√ß√£o musical">Produ√ß√£o musical</div>
                                        <div class="hobby-item" data-value="Canto / vocaliza√ß√£o">Canto / vocaliza√ß√£o</div>
                                        <div class="hobby-item" data-value="Grava√ß√£o de voz e edi√ß√£o de √°udio">Grava√ß√£o de voz e edi√ß√£o de √°udio</div>
                                        <div class="hobby-item" data-value="Composi√ß√£o de m√∫sicas">Composi√ß√£o de m√∫sicas</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de beats / DJing">Cria√ß√£o de beats / DJing</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de trilhas sonoras">Cria√ß√£o de trilhas sonoras</div>
                                        <div class="hobby-item" data-value="Colecionar vinis">Colecionar vinis</div>
                                        <div class="hobby-item" data-value="Constru√ß√£o de instrumentos">Constru√ß√£o de instrumentos</div>
                                        <div class="hobby-item" data-value="Aulas de teoria musical">Aulas de teoria musical</div>
                                    </div>
                                </div>
                            </details>

                            <!-- üé¨ Cinema, Audiovisual e M√≠dia -->
                            <details>
                                <summary><span class="caret"></span> üé¨ Cinema, Audiovisual e M√≠dia</summary>
                                <div class="panel">
                                    <div class="hobbies-selection-grid">
                                        <div class="hobby-item" data-value="Assistir filmes cl√°ssicos">Assistir filmes cl√°ssicos</div>
                                        <div class="hobby-item" data-value="Estudar dire√ß√£o de cinema">Estudar dire√ß√£o de cinema</div>
                                        <div class="hobby-item" data-value="Fazer curtas-metragens">Fazer curtas-metragens</div>
                                        <div class="hobby-item" data-value="Edi√ß√£o de v√≠deo">Edi√ß√£o de v√≠deo</div>
                                        <div class="hobby-item" data-value="Anima√ß√£o 2D / 3D">Anima√ß√£o 2D / 3D</div>
                                        <div class="hobby-item" data-value="Stop motion">Stop motion</div>
                                        <div class="hobby-item" data-value="Dublagem e narra√ß√£o">Dublagem e narra√ß√£o</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de conte√∫do para YouTube / TikTok">Cria√ß√£o de conte√∫do para YouTube / TikTok</div>
                                        <div class="hobby-item" data-value="Produ√ß√£o de podcasts">Produ√ß√£o de podcasts</div>
                                        <div class="hobby-item" data-value="Fotografia cinematogr√°fica">Fotografia cinematogr√°fica</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de roteiros">Cria√ß√£o de roteiros</div>
                                        <div class="hobby-item" data-value="Cr√≠tica de filmes e s√©ries">Cr√≠tica de filmes e s√©ries</div>
                                        <div class="hobby-item" data-value="Efeitos visuais (VFX)">Efeitos visuais (VFX)</div>
                                    </div>
                                </div>
                            </details>

                            <!-- üìö Leitura e Escrita -->
                            <details>
                                <summary><span class="caret"></span> üìö Leitura e Escrita</summary>
                                <div class="panel">
                                    <div class="hobbies-selection-grid">
                                        <div class="hobby-item" data-value="Leitura de romances">Leitura de romances</div>
                                        <div class="hobby-item" data-value="Leitura de poesia">Leitura de poesia</div>
                                        <div class="hobby-item" data-value="Escrita criativa">Escrita criativa</div>
                                        <div class="hobby-item" data-value="Escrita de contos">Escrita de contos</div>
                                        <div class="hobby-item" data-value="Escrita de roteiros">Escrita de roteiros</div>
                                        <div class="hobby-item" data-value="Escrita de di√°rios / journaling">Escrita de di√°rios / journaling</div>
                                        <div class="hobby-item" data-value="Escrita terap√™utica">Escrita terap√™utica</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de blogs">Cria√ß√£o de blogs</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de hist√≥rias em quadrinhos">Cria√ß√£o de hist√≥rias em quadrinhos</div>
                                        <div class="hobby-item" data-value="Escrita de cord√©is">Escrita de cord√©is</div>
                                        <div class="hobby-item" data-value="Escrita de m√∫sicas e letras">Escrita de m√∫sicas e letras</div>
                                        <div class="hobby-item" data-value="Escrita de ensaios filos√≥ficos">Escrita de ensaios filos√≥ficos</div>
                                        <div class="hobby-item" data-value="Tradu√ß√£o liter√°ria">Tradu√ß√£o liter√°ria</div>
                                        <div class="hobby-item" data-value="Leitura de filosofia">Leitura de filosofia</div>
                                        <div class="hobby-item" data-value="Leitura de biografias">Leitura de biografias</div>
                                        <div class="hobby-item" data-value="Bookbinding (encaderna√ß√£o artesanal)">Bookbinding (encaderna√ß√£o artesanal)</div>
                                    </div>
                                </div>
                            </details>

                            <!-- üß† Desenvolvimento Pessoal e Intelectual -->
                            <details>
                                <summary><span class="caret"></span> üß† Desenvolvimento Pessoal e Intelectual</summary>
                                <div class="panel">
                                    <div class="hobbies-selection-grid">
                                        <div class="hobby-item" data-value="Aprender um novo idioma">Aprender um novo idioma</div>
                                        <div class="hobby-item" data-value="Fazer cursos online">Fazer cursos online</div>
                                        <div class="hobby-item" data-value="Filosofar / estudar metaf√≠sica">Filosofar / estudar metaf√≠sica</div>
                                        <div class="hobby-item" data-value="Meditar">Meditar</div>
                                        <div class="hobby-item" data-value="Journaling de gratid√£o">Journaling de gratid√£o</div>
                                        <div class="hobby-item" data-value="Planejamento e organiza√ß√£o pessoal">Planejamento e organiza√ß√£o pessoal</div>
                                        <div class="hobby-item" data-value="Desenvolvimento de jogos (game design)">Desenvolvimento de jogos (game design)</div>
                                        <div class="hobby-item" data-value="Aprender programa√ß√£o">Aprender programa√ß√£o</div>
                                        <div class="hobby-item" data-value="Aprender eletr√¥nica">Aprender eletr√¥nica</div>
                                        <div class="hobby-item" data-value="Aprender IA e automa√ß√£o">Aprender IA e automa√ß√£o</div>
                                        <div class="hobby-item" data-value="Estudar astrologia">Estudar astrologia</div>
                                        <div class="hobby-item" data-value="Estudar tarot e simbolismo">Estudar tarot e simbolismo</div>
                                        <div class="hobby-item" data-value="Estudar mitologia">Estudar mitologia</div>
                                        <div class="hobby-item" data-value="Escrever reflex√µes pessoais">Escrever reflex√µes pessoais</div>
                                        <div class="hobby-item" data-value="Estudar psicologia">Estudar psicologia</div>
                                        <div class="hobby-item" data-value="Resolver quebra-cabe√ßas / enigmas">Resolver quebra-cabe√ßas / enigmas</div>
                                        <div class="hobby-item" data-value="Sudoku, xadrez ou jogos de l√≥gica">Sudoku, xadrez ou jogos de l√≥gica</div>
                                    </div>
                                </div>
                            </details>

                            <!-- üåø Natureza e Sustentabilidade -->
                            <details>
                                <summary><span class="caret"></span> üåø Natureza e Sustentabilidade</summary>
                                <div class="panel">
                                    <div class="hobbies-selection-grid">
                                        <div class="hobby-item" data-value="Jardinagem">Jardinagem</div>
                                        <div class="hobby-item" data-value="Cultivo de hortas urbanas">Cultivo de hortas urbanas</div>
                                        <div class="hobby-item" data-value="Compostagem">Compostagem</div>
                                        <div class="hobby-item" data-value="Cuidar de plantas ornamentais">Cuidar de plantas ornamentais</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de terr√°rios">Cria√ß√£o de terr√°rios</div>
                                        <div class="hobby-item" data-value="Apicultura">Apicultura</div>
                                        <div class="hobby-item" data-value="Cuidar de bonsais">Cuidar de bonsais</div>
                                        <div class="hobby-item" data-value="Observa√ß√£o de aves">Observa√ß√£o de aves</div>
                                        <div class="hobby-item" data-value="Pesca esportiva">Pesca esportiva</div>
                                        <div class="hobby-item" data-value="Trilhas e caminhadas ecol√≥gicas">Trilhas e caminhadas ecol√≥gicas</div>
                                        <div class="hobby-item" data-value="Camping">Camping</div>
                                        <div class="hobby-item" data-value="Agricultura org√¢nica">Agricultura org√¢nica</div>
                                        <div class="hobby-item" data-value="Culin√°ria vegetariana / vegana">Culin√°ria vegetariana / vegana</div>
                                        <div class="hobby-item" data-value="Fotografia da natureza">Fotografia da natureza</div>
                                        <div class="hobby-item" data-value="Coleta de sementes e flores">Coleta de sementes e flores</div>
                                        <div class="hobby-item" data-value="Cuidar de animais dom√©sticos">Cuidar de animais dom√©sticos</div>
                                    </div>
                                </div>
                            </details>

                            <!-- üç≥ Culin√°ria e Gastronomia -->
                            <details>
                                <summary><span class="caret"></span> üç≥ Culin√°ria e Gastronomia</summary>
                                <div class="panel">
                                    <div class="hobbies-selection-grid">
                                        <div class="hobby-item" data-value="Cozinhar pratos t√≠picos">Cozinhar pratos t√≠picos</div>
                                        <div class="hobby-item" data-value="Fazer p√£es e fermenta√ß√£o natural">Fazer p√£es e fermenta√ß√£o natural</div>
                                        <div class="hobby-item" data-value="Fazer massas caseiras">Fazer massas caseiras</div>
                                        <div class="hobby-item" data-value="Confeitaria / bolos art√≠sticos">Confeitaria / bolos art√≠sticos</div>
                                        <div class="hobby-item" data-value="Coquetelaria e drinks artesanais">Coquetelaria e drinks artesanais</div>
                                        <div class="hobby-item" data-value="Fazer cerveja artesanal">Fazer cerveja artesanal</div>
                                        <div class="hobby-item" data-value="Degustar caf√©s especiais">Degustar caf√©s especiais</div>
                                        <div class="hobby-item" data-value="Fazer queijos / compotas / conservas">Fazer queijos / compotas / conservas</div>
                                        <div class="hobby-item" data-value="Montar mesas decoradas">Montar mesas decoradas</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de receitas autorais">Cria√ß√£o de receitas autorais</div>
                                        <div class="hobby-item" data-value="Culin√°ria regional brasileira">Culin√°ria regional brasileira</div>
                                        <div class="hobby-item" data-value="Gastronomia internacional">Gastronomia internacional</div>
                                        <div class="hobby-item" data-value="Culin√°ria de rua">Culin√°ria de rua</div>
                                    </div>
                                </div>
                            </details>

                            <!-- üïπÔ∏è Tecnologia e Jogos -->
                            <details>
                                <summary><span class="caret"></span> üïπÔ∏è Tecnologia e Jogos</summary>
                                <div class="panel">
                                    <div class="hobbies-selection-grid">
                                        <div class="hobby-item" data-value="Cria√ß√£o de jogos digitais">Cria√ß√£o de jogos digitais</div>
                                        <div class="hobby-item" data-value="Jogos de tabuleiro">Jogos de tabuleiro</div>
                                        <div class="hobby-item" data-value="Jogos de cartas">Jogos de cartas</div>
                                        <div class="hobby-item" data-value="RPG de mesa">RPG de mesa</div>
                                        <div class="hobby-item" data-value="Videogames retro">Videogames retro</div>
                                        <div class="hobby-item" data-value="Simuladores e jogos de constru√ß√£o">Simuladores e jogos de constru√ß√£o</div>
                                        <div class="hobby-item" data-value="Programa√ß√£o de apps">Programa√ß√£o de apps</div>
                                        <div class="hobby-item" data-value="Impress√£o 3D">Impress√£o 3D</div>
                                        <div class="hobby-item" data-value="Realidade virtual">Realidade virtual</div>
                                        <div class="hobby-item" data-value="Rob√≥tica">Rob√≥tica</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de mods para jogos">Cria√ß√£o de mods para jogos</div>
                                        <div class="hobby-item" data-value="Stream de jogos">Stream de jogos</div>
                                    </div>
                                </div>
                            </details>

                            <!-- üßç Corpo, Movimento e Sa√∫de -->
                            <details>
                                <summary><span class="caret"></span> üßç Corpo, Movimento e Sa√∫de</summary>
                                <div class="panel">
                                    <div class="hobbies-selection-grid">
                                        <div class="hobby-item" data-value="Academia / muscula√ß√£o">Academia / muscula√ß√£o</div>
                                        <div class="hobby-item" data-value="Caminhada">Caminhada</div>
                                        <div class="hobby-item" data-value="Corrida">Corrida</div>
                                        <div class="hobby-item" data-value="Nata√ß√£o">Nata√ß√£o</div>
                                        <div class="hobby-item" data-value="Yoga">Yoga</div>
                                        <div class="hobby-item" data-value="Pilates">Pilates</div>
                                        <div class="hobby-item" data-value="Alongamento">Alongamento</div>
                                        <div class="hobby-item" data-value="Dan√ßa">Dan√ßa</div>
                                        <div class="hobby-item" data-value="Artes marciais">Artes marciais</div>
                                        <div class="hobby-item" data-value="Escalada">Escalada</div>
                                        <div class="hobby-item" data-value="Patins / skate / longboard">Patins / skate / longboard</div>
                                        <div class="hobby-item" data-value="Slackline">Slackline</div>
                                        <div class="hobby-item" data-value="Ciclismo">Ciclismo</div>
                                        <div class="hobby-item" data-value="Surf">Surf</div>
                                        <div class="hobby-item" data-value="Stand up paddle">Stand up paddle</div>
                                        <div class="hobby-item" data-value="Pr√°ticas de respira√ß√£o / pranayama">Pr√°ticas de respira√ß√£o / pranayama</div>
                                        <div class="hobby-item" data-value="Tai chi chuan">Tai chi chuan</div>
                                        <div class="hobby-item" data-value="Caminhadas meditativas">Caminhadas meditativas</div>
                                    </div>
                                </div>
                            </details>

                            <!-- üè† Manualidades e Artesanato -->
                            <details>
                                <summary><span class="caret"></span> üè† Manualidades e Artesanato</summary>
                                <div class="panel">
                                    <div class="hobbies-selection-grid">
                                        <div class="hobby-item" data-value="Trabalhar com madeira">Trabalhar com madeira</div>
                                        <div class="hobby-item" data-value="Cer√¢mica e argila">Cer√¢mica e argila</div>
                                        <div class="hobby-item" data-value="Velas e sabonetes artesanais">Velas e sabonetes artesanais</div>
                                        <div class="hobby-item" data-value="Mosaico">Mosaico</div>
                                        <div class="hobby-item" data-value="Pintura em tecido">Pintura em tecido</div>
                                        <div class="hobby-item" data-value="Encaderna√ß√£o artesanal">Encaderna√ß√£o artesanal</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de m√≥veis reciclados">Cria√ß√£o de m√≥veis reciclados</div>
                                        <div class="hobby-item" data-value="Montagem de miniaturas">Montagem de miniaturas</div>
                                        <div class="hobby-item" data-value="Costura criativa">Costura criativa</div>
                                        <div class="hobby-item" data-value="Artesanato com materiais naturais">Artesanato com materiais naturais</div>
                                        <div class="hobby-item" data-value="Reutiliza√ß√£o e reciclagem art√≠stica">Reutiliza√ß√£o e reciclagem art√≠stica</div>
                                    </div>
                                </div>
                            </details>

                            <!-- üß≠ Explora√ß√£o e Cultura -->
                            <details>
                                <summary><span class="caret"></span> üß≠ Explora√ß√£o e Cultura</summary>
                                <div class="panel">
                                    <div class="hobbies-selection-grid">
                                        <div class="hobby-item" data-value="Viagens culturais">Viagens culturais</div>
                                        <div class="hobby-item" data-value="Explorar cidades hist√≥ricas">Explorar cidades hist√≥ricas</div>
                                        <div class="hobby-item" data-value="Turismo gastron√¥mico">Turismo gastron√¥mico</div>
                                        <div class="hobby-item" data-value="Museus e exposi√ß√µes">Museus e exposi√ß√µes</div>
                                        <div class="hobby-item" data-value="Voluntariado cultural">Voluntariado cultural</div>
                                        <div class="hobby-item" data-value="Aprender dan√ßas tradicionais">Aprender dan√ßas tradicionais</div>
                                        <div class="hobby-item" data-value="Participar de feiras e eventos art√≠sticos">Participar de feiras e eventos art√≠sticos</div>
                                        <div class="hobby-item" data-value="Recriar receitas antigas">Recriar receitas antigas</div>
                                        <div class="hobby-item" data-value="Reenactments (reencena√ß√µes hist√≥ricas)">Reenactments (reencena√ß√µes hist√≥ricas)</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de mapas e cadernos de viagem">Cria√ß√£o de mapas e cadernos de viagem</div>
                                    </div>
                                </div>
                            </details>

                            <!-- üì∏ Colecionismo e Curadoria -->
                            <details>
                                <summary><span class="caret"></span> üì∏ Colecionismo e Curadoria</summary>
                                <div class="panel">
                                    <div class="hobbies-selection-grid">
                                        <div class="hobby-item" data-value="Colecionar vinis">Colecionar vinis</div>
                                        <div class="hobby-item" data-value="Colecionar selos / moedas">Colecionar selos / moedas</div>
                                        <div class="hobby-item" data-value="Colecionar brinquedos antigos">Colecionar brinquedos antigos</div>
                                        <div class="hobby-item" data-value="Colecionar c√¢meras fotogr√°ficas">Colecionar c√¢meras fotogr√°ficas</div>
                                        <div class="hobby-item" data-value="Colecionar livros raros">Colecionar livros raros</div>
                                        <div class="hobby-item" data-value="Colecionar p√¥steres de cinema">Colecionar p√¥steres de cinema</div>
                                        <div class="hobby-item" data-value="Colecionar plantas / suculentas">Colecionar plantas / suculentas</div>
                                        <div class="hobby-item" data-value="Curadoria de arte / m√∫sica / design">Curadoria de arte / m√∫sica / design</div>
                                    </div>
                                </div>
                            </details>

                            <!-- ü™Ñ Espiritualidade e Interioridade -->
                            <details>
                                <summary><span class="caret"></span> ü™Ñ Espiritualidade e Interioridade</summary>
                                <div class="panel">
                                    <div class="hobbies-selection-grid">
                                        <div class="hobby-item" data-value="Medita√ß√£o guiada">Medita√ß√£o guiada</div>
                                        <div class="hobby-item" data-value="Yoga">Yoga</div>
                                        <div class="hobby-item" data-value="Reiki / pr√°ticas energ√©ticas">Reiki / pr√°ticas energ√©ticas</div>
                                        <div class="hobby-item" data-value="Tarot e or√°culos">Tarot e or√°culos</div>
                                        <div class="hobby-item" data-value="Astrologia">Astrologia</div>
                                        <div class="hobby-item" data-value="Runas">Runas</div>
                                        <div class="hobby-item" data-value="Cria√ß√£o de altares e rituais pessoais">Cria√ß√£o de altares e rituais pessoais</div>
                                        <div class="hobby-item" data-value="Caminhos de peregrina√ß√£o">Caminhos de peregrina√ß√£o</div>
                                        <div class="hobby-item" data-value="Leitura de textos sagrados">Leitura de textos sagrados</div>
                                        <div class="hobby-item" data-value="Escrita intuitiva">Escrita intuitiva</div>
                                        <div class="hobby-item" data-value="Autoan√°lise simb√≥lica">Autoan√°lise simb√≥lica</div>
                                        <div class="hobby-item" data-value="Terapias expressivas">Terapias expressivas</div>
                                    </div>
                                </div>
                            </details>
                        </div>
                    </div>
                </div>

                <!-- Coluna Direita - Gerenciador de Atividades -->
                <div class="card">
                    <div class="card-header">
                        Gerenciador de Atividades
                        <button id="floatBtn" class="expand-btn" title="Expandir sele√ß√£o de hobbies">‚ûï</button>
                    </div>
                    <p class="hint">Acompanhe seu progresso clicando em "check" nas atividades. As barras s√£o proporcionais entre si.</p>
                    <div id="activitiesList"></div>
                    <div id="progressChart" class="progress-chart" style="display: none;">
                        <div class="card-header">Progresso Semanal</div>
                        <div class="chart-container" id="chartBars"></div>
                    </div>
                    <div id="emptyStateHobbies" class="empty-state">
                        <div>Nenhuma atividade selecionada.</div>
                        <div style="font-size:14px; margin-top:8px;">Toque nos hobbies para adicion√°-los √† sua lista</div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div class="toast-container" id="toastContainer"></div>

    <script>
        // ===== SISTEMA DE TIMER =====
        class TimerSystem {
            constructor() {
                this.STORE_KEY = "pangu.tasks.v2";
                this.state = {
                    tasks: [],
                    current: -1,
                    remainingMs: 0,
                    running: false,
                    paused: false,
                    breakEnabled: true,
                    inBreak: false,
                    sounds: true,
                    lastTick: 0,
                    tickTacActive: false
                };
                this.soundManager = new SoundManager();
                this.draggedTask = null;
                this.init();
            }

            init() {
                this.loadState();
                this.setupEventListeners();
                this.renderTasks();
                this.updateTimerDisplay();
            }

            loadState() {
                try {
                    const savedState = JSON.parse(localStorage.getItem(this.STORE_KEY) || "{}");
                    this.state.tasks = savedState.tasks || [];
                    this.state.sounds = savedState.sounds !== undefined ? savedState.sounds : true;
                    this.state.breakEnabled = savedState.breakEnabled !== undefined ? savedState.breakEnabled : true;
                } catch (error) {
                    console.error("Erro ao carregar estado:", error);
                }
                
                this.resetTimerState();
                this.soundManager.enabled = this.state.sounds;
                document.getElementById('soundState').textContent = this.state.sounds ? "ativados" : "mutados";
                document.getElementById('breakState').textContent = this.state.breakEnabled ? "on" : "off";
            }

            resetTimerState() {
                this.state.current = -1;
                this.state.remainingMs = 0;
                this.state.running = false;
                this.state.paused = false;
                this.state.inBreak = false;
                this.state.lastTick = 0;
                this.state.tickTacActive = false;
                this.soundManager.stopTickTac();
                document.getElementById('tickTacIndicator').classList.remove('active');
                this.collapseTaskDetails();
            }

            saveState() {
                const stateToSave = {
                    tasks: this.state.tasks,
                    sounds: this.state.sounds,
                    breakEnabled: this.state.breakEnabled
                };
                localStorage.setItem(this.STORE_KEY, JSON.stringify(stateToSave));
            }

            formatTime(ms) {
                ms = Math.max(0, ms);
                const s = Math.floor(ms / 1000);
                return String(Math.floor(s / 3600)).padStart(2, "0") + ":" + 
                       String(Math.floor((s % 3600) / 60)).padStart(2, "0") + ":" + 
                       String(s % 60).padStart(2, "0");
            }

            updateTimerDisplay() {
                const timerDisplay = document.getElementById('timerDisplay');
                const progressEl = document.getElementById('progress');
                
                timerDisplay.textContent = this.formatTime(this.state.remainingMs);
                
                if (this.state.current >= 0 && this.state.tasks[this.state.current]) {
                    const task = this.state.tasks[this.state.current];
                    const totalMs = task.duration * 60000;
                    const progress = ((totalMs - this.state.remainingMs) / totalMs) * 100;
                    progressEl.style.width = `${Math.min(100, Math.max(0, progress))}%`;
                } else {
                    progressEl.style.width = "0%";
                }
                
                this.updateStatus();
                this.updateTickTac();
            }

            updateStatus() {
                const statusDot = document.getElementById('statusDot');
                const statusText = document.getElementById('statusText');
                const timerDisplay = document.getElementById('timerDisplay');
                const currentTaskEl = document.getElementById('currentTask');
                
                if (this.state.inBreak) {
                    statusDot.className = "status-dot status-dot-break";
                    statusText.textContent = "intervalo";
                    timerDisplay.className = "timer-display timer-display-break";
                } else if (this.state.running) {
                    statusDot.className = this.state.paused ? "status-dot status-dot-paused" : "status-dot status-dot-running";
                    statusText.textContent = this.state.paused ? "pausado" : "executando";
                    timerDisplay.className = this.state.paused ? "timer-display" : "timer-display";
                } else {
                    statusDot.className = "status-dot";
                    statusText.textContent = "pronto";
                    timerDisplay.className = "timer-display";
                }
                
                if (this.state.current >= 0 && this.state.tasks[this.state.current]) {
                    currentTaskEl.textContent = this.state.tasks[this.state.current].name;
                } else {
                    currentTaskEl.textContent = "";
                }
            }

            updateTickTac() {
                const tenSecondsMs = 10 * 1000;
                const tickTacIndicator = document.getElementById('tickTacIndicator');
                
                if (this.state.running && !this.state.paused && !this.state.inBreak && 
                    this.state.remainingMs <= tenSecondsMs && this.state.remainingMs > 0) {
                    
                    if (!this.state.tickTacActive) {
                        this.state.tickTacActive = true;
                        this.soundManager.startTickTac();
                        tickTacIndicator.classList.add('active');
                        this.showToast("Tic-tac ativado - √∫ltimos 10 segundos");
                    }
                } else {
                    if (this.state.tickTacActive) {
                        this.state.tickTacActive = false;
                        this.soundManager.stopTickTac();
                        tickTacIndicator.classList.remove('active');
                    }
                }
            }

            expandTaskDetails() {
                if (this.state.current >= 0 && this.state.tasks[this.state.current]) {
                    const task = this.state.tasks[this.state.current];
                    const ctaText = document.getElementById('ctaText');
                    const tapToStart = document.getElementById('tapToStart');
                    const taskDetails = document.getElementById('taskDetails');
                    const taskTitle = document.getElementById('taskTitle');
                    const taskGoalDetail = document.getElementById('taskGoalDetail');
                    const taskStepsDetail = document.getElementById('taskStepsDetail');
                    
                    ctaText.classList.add('fade-out');
                    
                    setTimeout(() => {
                        taskTitle.textContent = task.name;
                        taskGoalDetail.textContent = task.goal || "Nenhum objetivo definido";
                        taskStepsDetail.textContent = task.steps || "Nenhuma atividade definida";
                        
                        tapToStart.classList.add('expanded');
                        
                        setTimeout(() => {
                            taskDetails.classList.add('show');
                        }, 300);
                    }, 300);
                }
            }

            collapseTaskDetails() {
                const taskDetails = document.getElementById('taskDetails');
                const tapToStart = document.getElementById('tapToStart');
                const ctaText = document.getElementById('ctaText');
                
                taskDetails.classList.remove('show');
                
                setTimeout(() => {
                    tapToStart.classList.remove('expanded');
                    
                    setTimeout(() => {
                        ctaText.classList.remove('fade-out');
                    }, 300);
                }, 500);
            }

            startTask(index = 0) {
                if (index >= this.state.tasks.length) {
                    this.showToast("Nenhuma tarefa na fila");
                    return;
                }
                
                this.state.current = index;
                this.state.remainingMs = this.state.tasks[index].duration * 60000;
                this.state.running = true;
                this.state.paused = false;
                this.state.inBreak = false;
                this.state.tickTacActive = false;
                
                this.soundManager.playStartSound();
                this.renderTasks();
                this.updateTimerDisplay();
                this.expandTaskDetails();
                this.startTimer();
            }

            startTimer() {
                if (!this.state.running || this.state.paused) return;
                
                const now = performance.now();
                if (!this.state.lastTick) this.state.lastTick = now;
                
                const elapsed = now - this.state.lastTick;
                this.state.lastTick = now;
                this.state.remainingMs -= elapsed;
                
                this.updateTimerDisplay();
                
                if (this.state.remainingMs <= 0) {
                    this.soundManager.stopTickTac();
                    this.soundManager.playAlarmSound();
                    this.showToast("Tarefa conclu√≠da!");
                    
                    if (this.state.breakEnabled && !this.state.inBreak) {
                        this.state.inBreak = true;
                        this.state.remainingMs = 7 * 60000;
                        this.showToast("Iniciando intervalo de 7 minutos automaticamente");
                        this.startTimer();
                    } else {
                        this.nextTask();
                    }
                    return;
                }
                
                requestAnimationFrame(() => this.startTimer());
            }

            nextTask() {
                this.state.current++;
                this.state.inBreak = false;
                this.state.tickTacActive = false;
                this.soundManager.stopTickTac();
                document.getElementById('tickTacIndicator').classList.remove('active');
                
                if (this.state.current < this.state.tasks.length) {
                    this.showToast(`Iniciando pr√≥xima tarefa automaticamente: ${this.state.tasks[this.state.current].name}`);
                    this.startTask(this.state.current);
                } else {
                    this.state.running = false;
                    this.state.current = -1;
                    this.showToast("Todas as tarefas conclu√≠das!");
                    this.renderTasks();
                    this.updateTimerDisplay();
                    this.collapseTaskDetails();
                }
            }

            // Drag and Drop functions
            handleDragStart(e) {
                this.draggedTask = this;
                e.dataTransfer.effectAllowed = 'move';
                this.classList.add('dragging');
                setTimeout(() => this.style.display = 'none', 0);
            }

            handleDragEnd(e) {
                this.classList.remove('dragging');
                this.style.display = 'block';
                this.draggedTask = null;
            }

            handleDragOver(e) {
                e.preventDefault();
                return false;
            }

            handleDragEnter(e) {
                this.classList.add('over');
            }

            handleDragLeave(e) {
                this.classList.remove('over');
            }

            handleDrop(e) {
                e.stopPropagation();
                e.preventDefault();
                
                if (this.draggedTask !== this) {
                    const tasksList = document.getElementById('tasksList');
                    const allTasks = Array.from(tasksList.children);
                    const draggedIndex = allTasks.indexOf(this.draggedTask);
                    const targetIndex = allTasks.indexOf(this);
                    
                    const [movedTask] = this.state.tasks.splice(draggedIndex, 1);
                    this.state.tasks.splice(targetIndex, 0, movedTask);
                    
                    if (this.state.current === draggedIndex) {
                        this.state.current = targetIndex;
                    } else if (this.state.current === targetIndex && draggedIndex < targetIndex) {
                        this.state.current--;
                    } else if (this.state.current === targetIndex && draggedIndex > targetIndex) {
                        this.state.current++;
                    } else if (this.state.current > draggedIndex && this.state.current <= targetIndex) {
                        this.state.current--;
                    } else if (this.state.current < draggedIndex && this.state.current >= targetIndex) {
                        this.state.current++;
                    }
                    
                    this.saveState();
                    this.renderTasks();
                }
                
                return false;
            }

            toggleTaskExpand(button) {
                const taskElement = button.closest('.task-item');
                const expandedContent = taskElement.querySelector('.task-expanded-content');
                
                if (expandedContent.classList.contains('show')) {
                    expandedContent.classList.remove('show');
                    button.textContent = '+';
                } else {
                    expandedContent.classList.add('show');
                    button.textContent = '-';
                }
            }

            renderTasks() {
                const tasksList = document.getElementById('tasksList');
                const emptyState = document.getElementById('emptyStateTimer');
                
                if (this.state.tasks.length === 0) {
                    tasksList.innerHTML = "";
                    emptyState.style.display = "block";
                    return;
                }
                
                emptyState.style.display = "none";
                
                let html = "";
                this.state.tasks.forEach((task, index) => {
                    const isActive = index === this.state.current;
                    html += `
                        <div class="task-item ${isActive ? 'task-item-active' : ''}" draggable="true">
                            <div class="task-header">
                                <div class="task-name">${task.name}</div>
                                <div class="task-duration">${task.duration}min</div>
                                <button class="task-expand-btn" onclick="timerSystem.toggleTaskExpand(this)">+</button>
                            </div>
                            <div class="task-goal">${task.goal || 'Sem objetivo definido'}</div>
                            <div class="task-expanded-content">
                                <div class="task-expanded-section">
                                    <div class="task-expanded-title">Objetivo:</div>
                                    <div class="task-expanded-content-text">${task.goal || 'N√£o especificado'}</div>
                                </div>
                                <div class="task-expanded-section">
                                    <div class="task-expanded-title">Atividades:</div>
                                    <div class="task-expanded-content-text">${task.steps || 'N√£o especificado'}</div>
                                </div>
                            </div>
                            <div class="task-actions">
                                <button class="task-btn" onclick="timerSystem.startTaskFromList(${index})">iniciar</button>
                                <button class="task-btn task-btn-delete" onclick="timerSystem.deleteTask(${index})">apagar</button>
                            </div>
                        </div>
                    `;
                });
                
                tasksList.innerHTML = html;
                
                // Adicionar eventos de drag and drop
                const taskItems = tasksList.querySelectorAll('.task-item');
                taskItems.forEach(item => {
                    item.addEventListener('dragstart', this.handleDragStart.bind(item));
                    item.addEventListener('dragend', this.handleDragEnd.bind(item));
                    item.addEventListener('dragover', this.handleDragOver.bind(item));
                    item.addEventListener('dragenter', this.handleDragEnter.bind(item));
                    item.addEventListener('dragleave', this.handleDragLeave.bind(item));
                    item.addEventListener('drop', this.handleDrop.bind(item));
                });
            }

            addTask() {
                const name = document.getElementById('taskName').value.trim();
                const duration = parseInt(document.getElementById('taskDuration').value) || 1;
                const goal = document.getElementById('taskGoal').value.trim();
                const steps = document.getElementById('taskSteps').value.trim();
                
                if (!name) {
                    this.showToast("Nome da tarefa √© obrigat√≥rio");
                    return;
                }
                
                this.state.tasks.push({
                    id: Date.now() + Math.random(),
                    name,
                    duration,
                    goal,
                    steps
                });
                
                document.getElementById('taskName').value = "";
                document.getElementById('taskDuration').value = "";
                document.getElementById('taskGoal').value = "";
                document.getElementById('taskSteps').value = "";
                
                this.saveState();
                this.renderTasks();
                this.showToast("Tarefa adicionada");
            }

            deleteTask(index) {
                this.state.tasks.splice(index, 1);
                if (this.state.current === index) {
                    this.resetTimerState();
                } else if (this.state.current > index) {
                    this.state.current--;
                }
                this.renderTasks();
                this.updateTimerDisplay();
                this.saveState();
                this.showToast("Tarefa removida");
            }

            startTaskFromList(index) {
                this.startTask(index);
            }

            clearAllTasks() {
                if (confirm("Tem certeza que deseja remover todas as tarefas?")) {
                    this.state.tasks = [];
                    this.resetTimerState();
                    this.saveState();
                    this.renderTasks();
                    this.updateTimerDisplay();
                    this.showToast("Todas as tarefas removidas");
                }
            }

            setupEventListeners() {
                document.getElementById('btnStart').addEventListener('click', () => {
                    if (this.state.paused) {
                        this.state.paused = false;
                        this.state.lastTick = performance.now();
                        this.startTimer();
                    } else if (this.state.running && this.state.inBreak) {
                        this.state.paused = false;
                        this.state.lastTick = performance.now();
                        this.startTimer();
                    } else {
                        this.startTask(this.state.current < 0 ? 0 : this.state.current);
                    }
                });

                document.getElementById('btnPause').addEventListener('click', () => {
                    if (this.state.running && !this.state.paused) {
                        this.state.paused = true;
                        this.soundManager.stopTickTac();
                        document.getElementById('tickTacIndicator').classList.remove('active');
                        this.updateStatus();
                    } else if (this.state.running && this.state.paused) {
                        this.state.paused = false;
                        this.state.lastTick = performance.now();
                        this.startTimer();
                    }
                });

                document.getElementById('btnReset').addEventListener('click', () => {
                    if (this.state.current >= 0 && this.state.tasks[this.state.current]) {
                        this.state.remainingMs = this.state.tasks[this.state.current].duration * 60000;
                        this.state.paused = false;
                        this.state.tickTacActive = false;
                        this.soundManager.stopTickTac();
                        document.getElementById('tickTacIndicator').classList.remove('active');
                        this.updateTimerDisplay();
                    }
                });

                document.getElementById('btnNext').addEventListener('click', () => {
                    if (this.state.running) {
                        this.nextTask();
                    }
                });

                document.getElementById('btnBreak').addEventListener('click', () => {
                    this.state.breakEnabled = !this.state.breakEnabled;
                    document.getElementById('breakState').textContent = this.state.breakEnabled ? "on" : "off";
                    this.saveState();
                    this.showToast(`Intervalos ${this.state.breakEnabled ? 'ativados' : 'desativados'}`);
                });

                document.getElementById('btnSound').addEventListener('click', () => {
                    this.state.sounds = !this.state.sounds;
                    this.soundManager.enabled = this.state.sounds;
                    if (!this.state.sounds) {
                        this.soundManager.stopTickTac();
                        document.getElementById('tickTacIndicator').classList.remove('active');
                    }
                    document.getElementById('soundState').textContent = this.state.sounds ? "ativados" : "mutados";
                    this.saveState();
                    this.showToast(`Sons ${this.state.sounds ? 'ativados' : 'desativados'}`);
                });

                document.getElementById('addTask').addEventListener('click', () => this.addTask());
                document.getElementById('clearAll').addEventListener('click', () => this.clearAllTasks());

                document.getElementById('tapToStart').addEventListener('click', () => {
                    if (this.state.tasks.length > 0) {
                        this.startTask(0);
                    } else {
                        this.showToast("Adicione tarefas primeiro");
                    }
                });
            }

            showToast(message, duration = 3000) {
                const toastContainer = document.getElementById('toastContainer');
                const toast = document.createElement('div');
                toast.className = 'toast';
                toast.textContent = message;
                toastContainer.appendChild(toast);
                
                setTimeout(() => {
                    toast.remove();
                }, duration);
            }
        }

        // ===== SISTEMA DE AGENDA =====
        class AgendaSystem {
            constructor() {
                this.STORE_KEY = 'agendaFlutuante';
                this.state = {
                    monday: "",
                    tuesday: "",
                    wednesday: "",
                    thursday: "",
                    friday: ""
                };
                this.init();
            }

            init() {
                this.loadData();
                this.setupEventListeners();
            }

            loadData() {
                const savedData = localStorage.getItem(this.STORE_KEY);
                if (savedData) {
                    this.state = JSON.parse(savedData);
                    
                    document.getElementById('monday').value = this.state.monday;
                    document.getElementById('tuesday').value = this.state.tuesday;
                    document.getElementById('wednesday').value = this.state.wednesday;
                    document.getElementById('thursday').value = this.state.thursday;
                    document.getElementById('friday').value = this.state.friday;
                }
            }

            saveData() {
                this.state.monday = document.getElementById('monday').value;
                this.state.tuesday = document.getElementById('tuesday').value;
                this.state.wednesday = document.getElementById('wednesday').value;
                this.state.thursday = document.getElementById('thursday').value;
                this.state.friday = document.getElementById('friday').value;
                
                localStorage.setItem(this.STORE_KEY, JSON.stringify(this.state));
                this.showToast("Agenda salva com sucesso!");
            }

            setupEventListeners() {
                document.getElementById('monday').addEventListener('input', () => this.saveData());
                document.getElementById('tuesday').addEventListener('input', () => this.saveData());
                document.getElementById('wednesday').addEventListener('input', () => this.saveData());
                document.getElementById('thursday').addEventListener('input', () => this.saveData());
                document.getElementById('friday').addEventListener('input', () => this.saveData());
            }

            showToast(message) {
                const toastContainer = document.getElementById('toastContainer');
                const toast = document.createElement('div');
                toast.className = 'toast';
                toast.textContent = message;
                toastContainer.appendChild(toast);
                
                setTimeout(() => {
                    toast.remove();
                }, 3000);
            }
        }

        // ===== SISTEMA DE NOTAS =====
        class NotesSystem {
            constructor() {
                this.STORE_KEY = 'pangu.notes.v1';
                this.notes = [];
                this.searchTerm = '';
                this.isSearchExpanded = false;
                this.isNoteCardVisible = false;
                this.init();
            }

            init() {
                this.loadNotes();
                this.setupEventListeners();
                this.renderNotes();
                this.updateNotesCount();
                document.getElementById('notesGrid').classList.add('single-column');
            }

            loadNotes() {
                try {
                    const saved = localStorage.getItem(this.STORE_KEY);
                    this.notes = saved ? JSON.parse(saved) : [];
                } catch (error) {
                    console.error('Erro ao carregar notas:', error);
                    this.notes = [];
                }
            }

            saveNotes() {
                localStorage.setItem(this.STORE_KEY, JSON.stringify(this.notes));
            }

            toggleSearch() {
                this.isSearchExpanded = !this.isSearchExpanded;
                const searchContainer = document.getElementById('searchContainer');
                const toggleBtn = document.getElementById('toggleSearch');
                
                if (this.isSearchExpanded) {
                    searchContainer.classList.add('expanded');
                    toggleBtn.textContent = 'Fechar Busca';
                    setTimeout(() => {
                        document.getElementById('searchNotes').focus();
                    }, 300);
                } else {
                    searchContainer.classList.remove('expanded');
                    toggleBtn.textContent = 'Buscar';
                    this.searchTerm = '';
                    document.getElementById('searchNotes').value = '';
                    this.renderNotes();
                }
            }

            toggleNoteCard() {
                this.isNoteCardVisible = !this.isNoteCardVisible;
                const noteCard = document.getElementById('newNoteCard');
                const toggleBtn = document.getElementById('toggleNoteCard');
                const notesGrid = document.getElementById('notesGrid');
                
                if (this.isNoteCardVisible) {
                    noteCard.classList.remove('hidden');
                    toggleBtn.textContent = '‚àí';
                    document.getElementById('notesGrid').classList.remove('single-column');
                } else {
                    noteCard.classList.add('hidden');
                    toggleBtn.textContent = '+';
                    document.getElementById('notesGrid').classList.add('single-column');;
                }
            }

            saveNewNote() {
                const title = document.getElementById('noteTitle').value.trim();
                const content = document.getElementById('noteContent').value.trim();

                if (!title && !content) {
                    this.showToast('Digite um t√≠tulo ou conte√∫do para a nota');
                    return;
                }

                const note = {
                    id: Date.now(),
                    title: title || 'Sem t√≠tulo',
                    content: content,
                    date: new Date().toLocaleString('pt-BR'),
                    timestamp: Date.now()
                };

                this.notes.unshift(note);
                this.saveNotes();
                this.clearForm();
                this.renderNotes();
                this.updateNotesCount();
                this.showToast('Nota salva com sucesso!');
                
                this.toggleNoteCard();
            }

            deleteNote(id) {
                this.notes = this.notes.filter(note => note.id !== id);
                this.saveNotes();
                this.renderNotes();
                this.updateNotesCount();
                this.showToast('Nota exclu√≠da');
            }

            clearForm() {
                document.getElementById('noteTitle').value = '';
                document.getElementById('noteContent').value = '';
            }

            renderNotes() {
                const container = document.getElementById('notesList');
                const emptyState = document.getElementById('emptyStateNotes');

                let filteredNotes = this.notes;
                if (this.searchTerm) {
                    filteredNotes = this.notes.filter(note => 
                        note.title.toLowerCase().includes(this.searchTerm) ||
                        note.content.toLowerCase().includes(this.searchTerm)
                    );
                }

                if (filteredNotes.length === 0) {
                    container.innerHTML = '';
                    emptyState.style.display = 'block';
                    return;
                }

                emptyState.style.display = 'none';

                const html = filteredNotes.map(note => `
                    <div class="note-item">
                        <div class="note-header">
                            <div class="note-title">${this.escapeHtml(note.title)}</div>
                            <div class="note-date">${note.date}</div>
                        </div>
                        <div class="note-content">
                            ${this.escapeHtml(note.content) || '<em style="color: var(--text-secondary);">Sem conte√∫do</em>'}
                        </div>
                        <div class="note-actions">
                            <button class="note-btn note-btn-delete" onclick="notesSystem.deleteNote(${note.id})">
                                Excluir
                            </button>
                        </div>
                    </div>
                `).join('');

                container.innerHTML = html;
            }

            updateNotesCount() {
                const count = this.notes.length;
                document.getElementById('notesCount').textContent = `(${count})`;
            }

            escapeHtml(unsafe) {
                if (!unsafe) return '';
                return unsafe
                    .replace(/&/g, "&amp;")
                    .replace(/</g, "&lt;")
                    .replace(/>/g, "&gt;")
                    .replace(/"/g, "&quot;")
                    .replace(/'/g, "&#039;")
                    .replace(/\n/g, '<br>');
            }

            setupEventListeners() {
                document.getElementById('saveNote').addEventListener('click', () => this.saveNewNote());
                document.getElementById('clearForm').addEventListener('click', () => this.clearForm());
                document.getElementById('searchNotes').addEventListener('input', (e) => {
                    this.searchTerm = e.target.value.toLowerCase();
                    this.renderNotes();
                });
                document.getElementById('toggleSearch').addEventListener('click', () => this.toggleSearch());
                document.getElementById('toggleNoteCard').addEventListener('click', () => this.toggleNoteCard());
            }

            showToast(message, duration = 3000) {
                const toastContainer = document.getElementById('toastContainer');
                const toast = document.createElement('div');
                toast.className = 'toast';
                toast.textContent = message;
                toastContainer.appendChild(toast);

                setTimeout(() => {
                    toast.remove();
                }, duration);
            }
        }

        // ===== SISTEMA DE HOBBIES =====
        class HobbiesSystem {
            constructor() {
                this.activities = JSON.parse(localStorage.getItem('activities') || '{}');
                this.activityGoals = JSON.parse(localStorage.getItem('activityGoals') || '{}');
                this.accordionState = JSON.parse(localStorage.getItem('accordionState') || '{}');
                this.searchState = localStorage.getItem('searchState') || '';
                this.weeklyProgress = JSON.parse(localStorage.getItem('weeklyProgress') || '{}');
                this.collapsed = JSON.parse(localStorage.getItem('collapsed') || 'false');
                this.init();
            }

            init() {
                this.restoreAccordionState();
                this.renderActivities();
                this.updateHobbyItems();
                this.updateProgressChart();
                this.setupEventListeners();
                
                if (this.collapsed) {
                    this.toggleSelection();
                }
                
                document.getElementById('searchHobbies').value = this.searchState;
                if (this.searchState) {
                    document.getElementById('searchHobbies').dispatchEvent(new Event('input'));
                }
            }

            restoreAccordionState() {
                document.querySelectorAll('#hobbiesAccordion details').forEach((details, index) => {
                    const isOpen = this.accordionState[index] !== undefined ? this.accordionState[index] : index === 0;
                    if (isOpen) details.open = true;
                    
                    details.addEventListener('toggle', () => {
                        this.accordionState[index] = details.open;
                        localStorage.setItem('accordionState', JSON.stringify(this.accordionState));
                    });
                });
            }

            saveActivities() {
                localStorage.setItem('activities', JSON.stringify(this.activities));
                localStorage.setItem('activityGoals', JSON.stringify(this.activityGoals));
                localStorage.setItem('weeklyProgress', JSON.stringify(this.weeklyProgress));
            }

            renderActivities() {
                const activitiesList = document.getElementById('activitiesList');
                const emptyState = document.getElementById('emptyStateHobbies');
                const progressChart = document.getElementById('progressChart');
                
                if (Object.keys(this.activities).length === 0) {
                    activitiesList.innerHTML = '';
                    emptyState.style.display = 'block';
                    progressChart.style.display = 'none';
                    return;
                }
                
                emptyState.style.display = 'none';
                progressChart.style.display = 'block';
                const max = Math.max(1, ...Object.values(this.activities));
                
                let html = '';
                Object.entries(this.activities).forEach(([name, value]) => {
                    const goal = this.activityGoals[name] || 0;
                    const progress = goal > 0 ? Math.min((value / goal) * 100, 100) : (value / max) * 100;
                    
                    html += `
                        <div class="activity">
                            <div class="activity-header">
                                <div class="activity-name">${name}</div>
                                <div class="activity-controls">
                                    <button class="check-btn" data-name="${name}">‚úì</button>
                                    <button class="uncheck" data-name="${name}">‚Ü∂</button>
                                    <button class="delete" data-name="${name}">√ó</button>
                                </div>
                            </div>
                            <div class="bar-container">
                                <div class="bar" style="width:${progress}%"></div>
                            </div>
                            <div class="progress-info">
                                <span>Progresso: ${value} ${goal > 0 ? `/ ${goal}` : ''}</span>
                                <span>
                                    Meta: 
                                    <input type="number" 
                                           class="goal-input" 
                                           data-name="${name}" 
                                           value="${goal}" 
                                           min="0" 
                                           placeholder="0">
                                </span>
                            </div>
                        </div>
                    `;
                });
                
                activitiesList.innerHTML = html;

                document.querySelectorAll('.goal-input').forEach(input => {
                    input.addEventListener('change', (e) => {
                        const name = e.target.dataset.name;
                        const value = parseInt(e.target.value) || 0;
                        this.activityGoals[name] = value;
                        this.saveActivities();
                        this.renderActivities();
                        this.showToast(`Meta atualizada para ${name}`, 'success');
                    });
                });
            }

            updateHobbyItems() {
                document.querySelectorAll('.hobby-item').forEach(item => {
                    const hobbyName = item.dataset.value;
                    if (this.activities.hasOwnProperty(hobbyName)) {
                        item.classList.add('added');
                    } else {
                        item.classList.remove('added');
                    }
                });
            }

            addActivity(name) {
                if (!this.activities.hasOwnProperty(name)) {
                    this.activities[name] = 0;
                    if (!this.activityGoals[name]) this.activityGoals[name] = 0;
                    this.saveActivities();
                    this.renderActivities();
                    this.updateHobbyItems();
                    this.updateProgressChart();
                    this.showToast(`${name} adicionado(a)!`, 'success');
                } else {
                    this.showToast(`${name} j√° est√° na sua lista!`, 'error');
                }
            }

            updateProgressChart() {
                const chartBars = document.getElementById('chartBars');
                chartBars.innerHTML = '';
                const days = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b'];
                const today = new Date().getDay();
                
                const weekKey = this.getWeekKey();
                if (!this.weeklyProgress[weekKey]) {
                    this.weeklyProgress[weekKey] = [0,0,0,0,0,0,0];
                }
                
                const weekData = this.weeklyProgress[weekKey];
                const max = Math.max(1, ...weekData);
                
                days.forEach((day, index) => {
                    const bar = document.createElement('div');
                    bar.className = 'chart-bar';
                    bar.style.height = `${(weekData[index] / max) * 100}%`;
                    bar.title = `${day}: ${weekData[index]} atividades`;
                    
                    const container = document.createElement('div');
                    container.style.flex = '1';
                    container.style.display = 'flex';
                    container.style.flexDirection = 'column';
                    container.style.alignItems = 'center';
                    
                    const label = document.createElement('div');
                    label.className = 'chart-label';
                    label.textContent = day;
                    
                    container.appendChild(bar);
                    container.appendChild(label);
                    chartBars.appendChild(container);
                });
                
                this.saveActivities();
            }

            getWeekKey() {
                const now = new Date();
                const startOfYear = new Date(now.getFullYear(), 0, 1);
                const diff = now - startOfYear;
                const oneWeek = 604800000;
                return Math.floor(diff / oneWeek);
            }

            toggleSelection() {
                this.collapsed = !this.collapsed;
                localStorage.setItem('collapsed', JSON.stringify(this.collapsed));
                
                const selectionCard = document.getElementById('selectionCard');
                const mainGrid = document.getElementById('mainHobbiesGrid');
                const floatBtn = document.getElementById('floatBtn');
                
                if (this.collapsed) {
                    selectionCard.classList.add('fade-out');
                    setTimeout(() => {
                        selectionCard.style.display = 'none';
                        mainGrid.classList.add('single-column');
                        floatBtn.style.display = 'flex';
                    }, 400);
                } else {
                    selectionCard.style.display = 'block';
                    selectionCard.classList.remove('fade-out');
                    selectionCard.classList.add('fade-in');
                    mainGrid.classList.remove('single-column');
                    floatBtn.style.display = 'none';
                    
                    setTimeout(() => {
                        selectionCard.classList.remove('fade-in');
                    }, 400);
                }
            }

            setupEventListeners() {
                document.addEventListener('click', (e) => {
                    if (e.target.classList.contains('hobby-item')) {
                        const hobbyName = e.target.dataset.value;
                        this.addActivity(hobbyName);
                    }
                });

                document.getElementById('activitiesList').addEventListener('click', (e) => {
                    const name = e.target.dataset.name;
                    
                    if (e.target.classList.contains('check-btn')) {
                        this.activities[name] = (this.activities[name] || 0) + 1;
                        
                        const today = new Date().getDay();
                        const weekKey = this.getWeekKey();
                        if (!this.weeklyProgress[weekKey]) {
                            this.weeklyProgress[weekKey] = [0,0,0,0,0,0,0];
                        }
                        this.weeklyProgress[weekKey][today]++;
                        
                        e.target.classList.add('check-animation');
                        setTimeout(() => {
                            e.target.classList.remove('check-animation');
                        }, 500);
                        
                        this.saveActivities();
                        this.renderActivities();
                        this.updateProgressChart();
                        this.showToast(`+1 para ${name}!`, 'success');
                    }
                    
                    if (e.target.classList.contains('uncheck')) {
                        if (this.activities[name] > 0) {
                            this.activities[name] = (this.activities[name] || 1) - 1;
                            
                            const today = new Date().getDay();
                            const weekKey = this.getWeekKey();
                            if (this.weeklyProgress[weekKey] && this.weeklyProgress[weekKey][today] > 0) {
                                this.weeklyProgress[weekKey][today]--;
                            }
                            
                            this.saveActivities();
                            this.renderActivities();
                            this.updateProgressChart();
                            this.showToast(`-1 para ${name}`, 'warning');
                        } else {
                            this.showToast(`${name} j√° est√° em zero`, 'error');
                        }
                    }
                    
                    if (e.target.classList.contains('delete')) {
                        delete this.activities[name];
                        delete this.activityGoals[name];
                        this.saveActivities();
                        this.renderActivities();
                        this.updateHobbyItems();
                        this.updateProgressChart();
                        this.showToast(`${name} removido(a)`, 'success');
                    }
                });

                document.getElementById('searchHobbies').addEventListener('input', (e) => {
                    const q = e.target.value.toLowerCase();
                    localStorage.setItem('searchState', q);
                    
                    document.querySelectorAll('.hobbies-selection-grid .hobby-item').forEach(item => {
                        const show = !q || item.textContent.toLowerCase().includes(q);
                        item.style.display = show ? '' : 'none';
                    });
                });

                document.getElementById('toggleSelection').addEventListener('click', () => this.toggleSelection());
                document.getElementById('floatBtn').addEventListener('click', () => this.toggleSelection());
            }

            showToast(message, type = 'success') {
                const toastContainer = document.getElementById('toastContainer');
                const toast = document.createElement('div');
                toast.className = 'toast';
                toast.textContent = message;
                toastContainer.appendChild(toast);

                setTimeout(() => {
                    toast.remove();
                }, 3000);
            }
        }

        // ===== SISTEMA DE SOM =====
        class SoundManager {
            constructor() {
                this.enabled = true;
                this.audioContext = null;
                this.tickTacInterval = null;
            }
            
            init() {
                if (!this.audioContext) {
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                }
            }
            
            playBeep(frequency = 880, duration = 0.12, type = "sine", volume = 0.05) {
                if (!this.enabled) return;
                
                this.init();
                const now = this.audioContext.currentTime;
                const oscillator = this.audioContext.createOscillator();
                const gainNode = this.audioContext.createGain();
                
                oscillator.type = type;
                oscillator.frequency.value = frequency;
                gainNode.gain.setValueAtTime(volume, now);
                gainNode.gain.exponentialRampToValueAtTime(0.0001, now + duration);
                
                oscillator.connect(gainNode);
                gainNode.connect(this.audioContext.destination);
                
                oscillator.start(now);
                oscillator.stop(now + duration);
            }
            
            playStartSound() {
                this.playBeep(740, 0.12, "triangle");
                this.playBeep(1040, 0.12, "triangle");
            }
            
            playTickSound() {
                this.playBeep(900, 0.05, "square", 0.04);
            }
            
            playTacSound() {
                this.playBeep(800, 0.05, "square", 0.04);
            }
            
            playAlarmSound() {
                if (!this.enabled) return;
                
                this.init();
                const frequencies = [880, 660, 990, 660, 1040, 660];
                let startTime = this.audioContext.currentTime;
                
                frequencies.forEach(freq => {
                    const oscillator = this.audioContext.createOscillator();
                    const gainNode = this.audioContext.createGain();
                    
                    oscillator.frequency.value = freq;
                    oscillator.type = "sawtooth";
                    gainNode.gain.setValueAtTime(0.04, startTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.0001, startTime + 0.18);
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(this.audioContext.destination);
                    
                    oscillator.start(startTime);
                    oscillator.stop(startTime + 0.2);
                    startTime += 0.18;
                });
            }

            startTickTac() {
                if (!this.enabled || this.tickTacInterval) return;
                
                let isTick = true;
                this.tickTacInterval = setInterval(() => {
                    if (isTick) {
                        this.playTickSound();
                    } else {
                        this.playTacSound();
                    }
                    isTick = !isTick;
                }, 1000);
            }

            stopTickTac() {
                if (this.tickTacInterval) {
                    clearInterval(this.tickTacInterval);
                    this.tickTacInterval = null;
                }
            }
        }

        // ===== INICIALIZA√á√ÉO DOS SISTEMAS =====
        const timerSystem = new TimerSystem();
        const agendaSystem = new AgendaSystem();
        const notesSystem = new NotesSystem();
        const hobbiesSystem = new HobbiesSystem();

        // Expor sistemas globalmente para os event handlers HTML
        window.timerSystem = timerSystem;
        window.notesSystem = notesSystem;

        // Resetar timer quando a p√°gina for fechada/recarregada
        window.addEventListener('beforeunload', () => {
            timerSystem.resetTimerState();
        });
    </script>
</body>
</html>
